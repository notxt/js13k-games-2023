"use strict";(()=>{var y="white";var m=({ctx:r,canvasWidth:t,DRAG:u,GRAVITY:w})=>{let n=0,a=0,e=0,s=0,f=0,i=0;return{draw:()=>{if(e+=a,e>0&&(e-=u),e<0&&(e+=u),n+=e,n<0){n=0,e=0;return}if(n>t){n=t-10,e=0;return}f-=w,i+=f,s+=i,s<=0&&(s=0,i=0,f=0),r.fillStyle=y,r.fillRect(n,s,10,10)},jump:()=>{i===0&&(f=3)},moveRight:()=>{if(i===0){if(e<-1){a=1.5;return}a=1}},moveLeft:()=>{if(i===0){if(e>1){a=-1.5;return}a=-1}},stop:()=>{a=0}}};var l=document.querySelector("canvas");if(l===null)throw new Error("canvas is null");var d=l.height,R=l.width,o=l.getContext("2d");if(o===null)throw new Error("ctx is null");var h=.5,A=.5,c=m({DRAG:h,GRAVITY:A,ctx:o,canvasWidth:R}),p=0,v=()=>{p++,requestAnimationFrame(()=>v());let r=Math.round(performance.now()/1e3),t=Math.round(p/r);o.clearRect(0,0,R,d);let u=2;o.fillText(`FPS     ${t}`,u,10),o.save(),o.translate(0,d),o.scale(1,-1),c.draw(),o.restore()};requestAnimationFrame(()=>v());document.onkeydown=r=>{let t=r.code;if(t==="ArrowRight"){c.moveRight();return}if(t==="ArrowLeft"){c.moveLeft();return}if(t==="Space"){c.jump();return}};document.onkeyup=r=>{let t=r.code;if(t==="ArrowRight"||t==="ArrowLeft"){c.stop();return}};})();
